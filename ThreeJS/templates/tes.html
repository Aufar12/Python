<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
        <script src='https://cdn.jsdelivr.net/gh/mrdoob/three.js@r92/examples/js/loaders/GLTFLoader.js'></script>
        <script src='https://threejs.org/examples/js/controls/OrbitControls.js'></script>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>
        <div id="navbar"><span>Three.js Tutorial</span></div>
    </body>
</html>

<script>
    const color7 = new THREE.Color( 1, 1, 1 );
    var scene = new THREE.Scene();
    scene.background = color7;
    var camera = new THREE.PerspectiveCamera(470,window.innerWidth/window.innerHeight,1, 1000);
    var renderer = new THREE.WebGLRenderer({antialias: true});
    renderer.setSize(window.innerWidth,window.innerHeight);
    $('body').append(renderer.domElement);
    document.evaluate('/html/body/canvas', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.style.border = '2px solid red';

    camera.position.z = 15;
    
    //var geometry = new THREE.CylinderGeometry(8, 8, 10, 12);
    //const geometry = new THREE.BoxGeometry( 10, 10, 10 );
    const geometry = new THREE.OctahedronGeometry( 10, 10 );
    var loader = new THREE.TextureLoader();
    loader.setCrossOrigin('anonymous');


    const texture_astra = loader.load('{{url_for('static', filename='images/ice.jpg')}}');
    var material = new THREE.MeshBasicMaterial({map: texture_astra});
    var cube = new THREE.Mesh(geometry,material);

    //const texture_astra = loader.load('{{url_for('static', filename='images/ice.jpg')}}');
    //var material = new THREE.MeshBasicMaterial({map: texture_astra});
    //var cube = new THREE.Mesh(geometry,material);

    /*
    const geometry = new THREE.BufferGeometry();
    // create a simple square shape. We duplicate the top left and bottom right
    // vertices because each vertex needs to appear once per triangle.
    const vertices = new Float32Array( [
        -1.0, -1.0,  1.0,
        1.0, -1.0,  1.0,
        1.0,  1.0,  1.0,

        1.0,  1.0,  1.0,
        -1.0,  1.0,  1.0,
        -1.0, -1.0,  1.0
    ] );

    // itemSize = 3 because there are 3 values (components) per vertex
    geometry.setAttribute('position', new THREE.BufferAttribute( vertices, 3 ) );
    const material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
    const cube = new THREE.Mesh( geometry, material );
    */
    
    scene.add(cube);
    cube.position.set(-10, 0, 0)
    renderer.render(scene,camera);
    
    var animate = function(){
        cube.rotation.y += 0.01;
        renderer.render(scene,camera);
        requestAnimationFrame(animate);
    }
    
    animate();

</script>